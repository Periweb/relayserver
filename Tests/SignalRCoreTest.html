<!DOCTYPE html>
<html>
<head>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/aspnet-signalr/1.1.4/signalr.min.js"></script>
</head>
<body>
<ul id="requests">

</ul>
</body>
<script>
  const connection = new signalR.HubConnectionBuilder()
    .withUrl("http://localhost:20000/onpremises")
    .configureLogging(signalR.LogLevel.Information)
    .build();

connection.start().then(function () {
    console.log("connected");
});

connection.on("ReceiveRequest", (request) => {
    const encodedMsg = `Received Request ${request.requestId} as ${request.httpMethod} ${request.url}`;
    const li = document.createElement("li");
    li.textContent = encodedMsg;
    document.getElementById("requests").appendChild(li);
});
</script>
</html>
